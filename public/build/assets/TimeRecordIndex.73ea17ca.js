import{d as _,q as y,m as x,o as n,c as T,w as h,a as t,t as o,b as c,i as m,e as l,h as g,F as p,f as b,p as C,n as $}from"./app.194e13a5.js";import{S as N,_ as M}from"./Seperator.7f914c29.js";import{_ as S}from"./Label.ca964c17.js";import{_ as L}from"./TimeTrackForm.d9867b84.js";import{_ as B}from"./AppLayout.e143cebc.js";import"./Input.9f87bfde.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./Button.a657cf0b.js";const H={class:"font-semibold text-xl text-gray-800 leading-tight"},R={class:"p-3 bg-gray-100"},V={class:"text-xl font-bold"},D={class:"my-2"},F={class:"table-auto w-full"},z={class:"text-xs font-thin"},I={class:"text-right"},j={class:"text-right"},q={key:0,textContent:" - "},A={class:"text-xs font-thin"},E={class:"text-xs font-thin"},P={class:"text-xs font-thin"},G={class:"text-right"},J={class:"text-xs font-thin"},K={class:"text-xs font-thin"},O={class:"text-right"},Q={class:"text-xs font-thin"},U={class:"text-xs font-thin"},W={colspan:"5"},X={class:"flex justify-between"},Y={key:0},Z={class:"flex flex-wrap -mb-1"},k=["innerHTML"],tt=["onClick","innerHTML"],_t={__name:"TimeRecordIndex",props:{sum:String,count:Number},setup(et){const f=_({}),i=_({}),a=_(0),d=_(!1);y(()=>u());const u=()=>{axios.get(route("timetrack.loadIndex",{page:a.value,customer_id:d.value})).then(e=>{f.value=e.data.data,i.value=e.data.links})},w=e=>{e===0&&a.value>1?a.value--:e===i.value.length-1&&a.value<i.value.length-1?a.value++:e!==0&&e!==i.value.length-1&&(a.value=e)};return x(()=>a.value,e=>u()),x(()=>d.value,e=>u()),(e,r)=>(n(),T(B,{title:e.__("Timetrack")},{header:h(()=>[t("h2",H,o(e.__("Timetrack")),1)]),default:h(()=>[t("div",R,[t("h3",V,o(e.__("New Time Record")),1),c(L,{onSaved:u})]),c(N),t("div",D,[c(S,{class:"mb-1"},{default:h(()=>[m(o(e.__("Filter")),1)]),_:1}),c(M,{contact:null,filter:{tracks:!0},onRemove:r[0]||(r[0]=s=>d.value=0),onSet:r[1]||(r[1]=s=>d.value=s.id),address:!1})]),t("table",F,[t("thead",null,[t("tr",null,[t("th",null,o(e.__("Am")),1),t("th",null,o(e.__("Customer")),1),t("th",null,[t("p",null,o(e.__("Duration")),1),t("p",z,o(e.__("in Dezimal")),1)]),t("th",I,o(e.__("Rate")),1),t("th",j,o(e.__("Netto")),1)])]),t("tbody",null,[(n(!0),l(p,null,g(f.value,s=>(n(),l("tr",{onClick:r[2]||(r[2]=C(v=>e.$inertia.visit(e.route("contact.show",e.contact)),["prevent"]))},[t("td",null,[t("p",null,[m(o(s.started)+" ",1),s.ended!==""?(n(),l("span",q)):b("",!0),m(o(s.ended),1)]),t("p",A,o(s.created),1)]),t("td",null,[t("p",null,o(s.customer),1),t("p",E,o(s.address),1)]),t("td",null,[t("p",null,o(s.duration),1),t("p",P,o(s.duration_float),1)]),t("td",G,[t("p",null,o(s.rate),1),t("p",J,o(s.rate_vat),1),t("p",K,o(s.rate_btto),1)]),t("td",O,[t("p",null,o(s.netto),1),t("p",Q,o(s.vat),1),t("p",U,o(s.brutto),1)])]))),256))]),t("tfoot",null,[t("tr",null,[t("td",W,[t("div",X,[i.value.length>3?(n(),l("div",Y,[t("div",Z,[(n(!0),l(p,null,g(i.value,(s,v)=>(n(),l(p,null,[s.url===null?(n(),l("div",{key:0,class:"mb-1 mr-1 px-4 py-3 text-gray-400 text-sm leading-4 border",innerHTML:s.label},null,8,k)):(n(),l("div",{key:1,onClick:st=>w(v),class:$(["mb-1 mr-1 px-4 py-3 focus:text-indigo-500 text-sm leading-4 hover:bg-white border focus:border-orange-500 cursor-pointer",{"text-orange-500 font-bold":s.active}]),innerHTML:s.label},null,10,tt))],64))),256))])])):b("",!0)])])])])])]),_:1},8,["title"]))}};export{_t as default};
