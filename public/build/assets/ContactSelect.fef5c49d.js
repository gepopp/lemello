import{d as u,l as N,K as V,o as r,e as d,a as e,b as D,g as p,M as x,t as s,f as C,x as F,F as K,h as I,n as w,i as c}from"./app.e650a40f.js";import{_ as L}from"./Input.3b2c23c1.js";const O={key:0},S={class:"relative"},E=["textContent"],H={key:1,class:"absolute bg-white shadow-2xl border border-gray-100 w-full p-2 z-50"},P=["onClick","onMouseover"],T=["textContent"],q={class:"text-xs font-thin"},A=["textContent"],G=c(", "),J=["textContent"],Q=c(),R=["textContent"],U={key:1},W={class:"border border-gray-400 p-2 hover:bg-gray-200 flex justify-between"},X=["textContent"],Y={key:0,class:"text-xs font-thin"},Z=["textContent"],ee=c(", "),te=["textContent"],se=c(),oe=["textContent"],ne=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"},null,-1),ae=[ne],de={__name:"ContactSelect",props:{contact:Object,address:{type:Boolean,default:!0},filter:{type:Object,default:{}}},emits:["remove","set"],setup(v,{expose:$,emit:m}){const g=v,b=u(""),o=u(g.contact),n=u([]),t=u(0),f=N().props.value.errors,B=_.debounce(i=>{axios.get(route("customer.search",{search:i.target.value,...g.filter})).then(a=>{n.value=a.data})},500),M=()=>{h(),m("remove")},y=i=>{o.value=i,b.value="",n.value=[],m("set",i)},h=()=>{o.value=null,b.value="",n.value=[]};return $({attached:o,reset:h}),(i,a)=>{const j=V("click-outside");return o.value?(r(),d("div",U,[e("div",W,[e("div",null,[e("p",{textContent:s(o.value.name)},null,8,X),v.address?(r(),d("p",Y,[e("span",{textContent:s(o.value.address.line_1)},null,8,Z),ee,e("span",{textContent:s(o.value.address.zip)},null,8,te),se,e("span",{textContent:s(o.value.address.city)},null,8,oe)])):C("",!0)]),e("div",{class:"text-red-500 cursor-pointer",onClick:M},[(r(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:w(["mr-5 h-full w-auto",v.address?"p-2":""])},ae,2))])])])):(r(),d("div",O,[e("div",S,[D(L,{id:"search",onInput:p(B),class:"mt-1 block w-full",type:"text",onKeydown:[a[0]||(a[0]=x(l=>t.value<n.value.length-1?t.value++:t.value=0,["down"])),a[1]||(a[1]=x(l=>t.value>0?t.value--:t.value=n.value.length-1,["up"])),a[2]||(a[2]=x(l=>y(n.value[t.value]),["enter"]))]},null,8,["onInput"]),p(f).contact_id?(r(),d("p",{key:0,class:"text-xs text-red-500",textContent:s(p(f).contact_id)},null,8,E)):C("",!0),n.value.length?F((r(),d("div",H,[(r(!0),d(K,null,I(n.value,(l,k)=>(r(),d("div",{onClick:z=>y(l),onMouseover:z=>t.value=k,class:w(["border border-gray-400 p-2 cursor-pointer mb-2",t.value==k?"bg-gray-200 border-2 border-orange-600":""])},[e("p",{textContent:s(l.name)},null,8,T),e("p",q,[e("span",{textContent:s(l.address.line_1)},null,8,A),G,e("span",{textContent:s(l.address.zip)},null,8,J),Q,e("span",{textContent:s(l.address.city)},null,8,R)])],42,P))),256))])),[[j,h]]):C("",!0)])]))}}};export{de as _};
