import{_ as y}from"./Input.9968d265.js";import{d as h,m as w,K as j,o as n,e as a,a as t,b as B,g as z,x as N,F as V,h as D,t as e,f as C,n as O,i as c}from"./app.542b9e37.js";const F={key:0},I={class:"relative"},L={key:0,class:"absolute bg-white shadow-2xl border border-gray-100 w-full p-2 z-50"},M=["onClick"],S=["textContent"],$={class:"text-xs font-thin"},E=["textContent"],H=c(", "),K=["textContent"],T=c(),q=["textContent"],A={key:1},G={class:"border border-gray-400 p-2 hover:bg-gray-200 flex justify-between"},J=["textContent"],P={key:0,class:"text-xs font-thin"},Q=["textContent"],R=c(", "),U=["textContent"],W=c(),X=["textContent"],Y=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"},null,-1),Z=[Y],ot={__name:"ContactSelect",props:{contact:Object,form:Object,address:{type:Boolean,default:!0},filter:{type:Object,default:{}}},emits:["remove","set"],setup(d,{emit:v}){var p;const i=d,m=h(""),s=h((p=i.contact)==null?void 0:p.company),l=h([]);w(()=>i.form.contact_id,o=>{o==null&&u()});const f=_.debounce(o=>{axios.get(route("company.search",{search:o.target.value,...i.filter})).then(x=>{l.value=x.data})},500),b=()=>{u(),v("remove")},g=o=>{s.value=o,v("set",o)},u=()=>{s.value=null,m.value="",l.value=[]};return(o,x)=>{const k=j("click-outside");return s.value?(n(),a("div",A,[t("div",G,[t("div",null,[t("p",{textContent:e(s.value.name)},null,8,J),d.address?(n(),a("p",P,[t("span",{textContent:e(s.value.address.line_1)},null,8,Q),R,t("span",{textContent:e(s.value.address.zip)},null,8,U),W,t("span",{textContent:e(s.value.address.city)},null,8,X)])):C("",!0)]),t("div",{class:"text-red-500 cursor-pointer",onClick:b},[(n(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:O(["mr-5 h-full w-auto",d.address?"p-2":""])},Z,2))])])])):(n(),a("div",F,[t("div",I,[B(y,{id:"search",onInput:z(f),class:"mt-1 block w-full",type:"text"},null,8,["onInput"]),l.value.length?N((n(),a("div",L,[(n(!0),a(V,null,D(l.value,r=>(n(),a("div",{onClick:tt=>g(r),class:"border border-gray-400 p-2 hover:bg-gray-200 hover:border-2 hover:border-orange-600 cursor-pointer mb-2"},[t("p",{textContent:e(r.name)},null,8,S),t("p",$,[t("span",{textContent:e(r.address.line_1)},null,8,E),H,t("span",{textContent:e(r.address.zip)},null,8,K),T,t("span",{textContent:e(r.address.city)},null,8,q)])],8,M))),256))])),[[k,u]]):C("",!0)])]))}}};export{ot as _};
