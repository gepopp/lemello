import{d as c,K as j,o as r,e as d,a as e,b as z,g as N,M as h,x as V,F as D,h as F,n as f,t as o,f as y,i as u}from"./app.7970fea8.js";import{_ as K}from"./Input.f161b780.js";const I={key:0},L={class:"relative"},O={key:0,class:"absolute bg-white shadow-2xl border border-gray-100 w-full p-2 z-50"},S=["onClick","onMouseover"],E=["textContent"],H={class:"text-xs font-thin"},T=["textContent"],q=u(", "),A=["textContent"],G=u(),J=["textContent"],P={key:1},Q={class:"border border-gray-400 p-2 hover:bg-gray-200 flex justify-between"},R=["textContent"],U={key:0,class:"text-xs font-thin"},W=["textContent"],X=u(", "),Y=["textContent"],Z=u(),ee=["textContent"],te=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"},null,-1),se=[te],ae={__name:"ContactSelect",props:{contact:Object,address:{type:Boolean,default:!0},filter:{type:Object,default:{}}},emits:["remove","set"],setup(v,{emit:p}){var b;const x=v,k=c(""),a=c((b=x.contact)==null?void 0:b.company),l=c([]),t=c(0),w=_.debounce(i=>{axios.get(route("company.search",{search:i.target.value,...x.filter})).then(s=>{l.value=s.data})},500),$=()=>{m(),p("remove")},C=i=>{a.value=i,p("set",i)},m=()=>{a.value=null,k.value="",l.value=[]};return(i,s)=>{const B=j("click-outside");return a.value?(r(),d("div",P,[e("div",Q,[e("div",null,[e("p",{textContent:o(a.value.name)},null,8,R),v.address?(r(),d("p",U,[e("span",{textContent:o(a.value.address.line_1)},null,8,W),X,e("span",{textContent:o(a.value.address.zip)},null,8,Y),Z,e("span",{textContent:o(a.value.address.city)},null,8,ee)])):y("",!0)]),e("div",{class:"text-red-500 cursor-pointer",onClick:$},[(r(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:f(["mr-5 h-full w-auto",v.address?"p-2":""])},se,2))])])])):(r(),d("div",I,[e("div",L,[z(K,{id:"search",onInput:N(w),class:"mt-1 block w-full",type:"text",onKeydown:[s[0]||(s[0]=h(n=>t.value<l.value.length-1?t.value++:t.value=0,["down"])),s[1]||(s[1]=h(n=>t.value>0?t.value--:t.value=l.value.length-1,["up"])),s[2]||(s[2]=h(n=>C(l.value[t.value]),["enter"]))]},null,8,["onInput"]),l.value.length?V((r(),d("div",O,[(r(!0),d(D,null,F(l.value,(n,g)=>(r(),d("div",{onClick:M=>C(n),onMouseover:M=>t.value=g,class:f(["border border-gray-400 p-2 cursor-pointer mb-2",t.value==g?"bg-gray-200 border-2 border-orange-600":""])},[e("p",{textContent:o(n.name)},null,8,E),e("p",H,[e("span",{textContent:o(n.address.line_1)},null,8,T),q,e("span",{textContent:o(n.address.zip)},null,8,A),G,e("span",{textContent:o(n.address.city)},null,8,J)])],42,S))),256))])),[[B,m]]):y("",!0)])]))}}};export{ae as _};
