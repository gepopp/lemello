import{d as u,q as y,m as x,o as n,c as C,w as h,a as t,t as o,b as c,i as m,e as l,h as g,F as p,f as b,p as T,n as $}from"./app.7970fea8.js";import{S as N}from"./Seperator.672c82d7.js";import{_ as M}from"./Label.2722d38c.js";import{_ as S}from"./ContactSelect.1cfd3d98.js";import{_ as L}from"./TimeTrackForm.79545bd9.js";import{_ as B}from"./AppLayout.31ad2b53.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./Input.f161b780.js";import"./Button.eb5c7a63.js";const H={class:"font-semibold text-xl text-gray-800 leading-tight"},R={class:"p-3 bg-gray-100"},V={class:"text-xl font-bold"},D={class:"my-2"},F={class:"table-auto w-full"},z={class:"text-xs font-thin"},I={class:"text-right"},j={class:"text-right"},q=["onClick"],A={key:0,textContent:" - "},E={class:"text-xs font-thin"},P={class:"text-xs font-thin"},G={class:"text-xs font-thin"},J={class:"text-right"},K={class:"text-xs font-thin"},O={class:"text-xs font-thin"},Q={class:"text-right"},U={class:"text-xs font-thin"},W={class:"text-xs font-thin"},X={colspan:"5"},Y={class:"flex justify-between"},Z={key:0},k={class:"flex flex-wrap -mb-1"},tt=["innerHTML"],et=["onClick","innerHTML"],ht={__name:"TimeRecordIndex",props:{sum:String,count:Number},setup(st){const f=u({}),i=u({}),a=u(0),r=u(!1);y(()=>d());const d=()=>{axios.get(route("timetrack.loadIndex",{page:a.value,customer_id:r.value})).then(e=>{f.value=e.data.data,i.value=e.data.links})},w=e=>{e===0&&a.value>1?a.value--:e===i.value.length-1&&a.value<i.value.length-1?a.value++:e!==0&&e!==i.value.length-1&&(a.value=e)};return x(()=>a.value,e=>d()),x(()=>r.value,e=>d()),(e,_)=>(n(),C(B,{title:e.__("Timetrack")},{header:h(()=>[t("h2",H,o(e.__("Timetrack")),1)]),default:h(()=>[t("div",R,[t("h3",V,o(e.__("New Time Record")),1),c(L,{onSaved:d})]),c(N),t("div",D,[c(M,{class:"mb-1"},{default:h(()=>[m(o(e.__("Filter")),1)]),_:1}),c(S,{contact:null,filter:{tracks:!0},onRemove:_[0]||(_[0]=s=>r.value=0),onSet:_[1]||(_[1]=s=>r.value=s.id),address:!1})]),t("table",F,[t("thead",null,[t("tr",null,[t("th",null,o(e.__("Am")),1),t("th",null,o(e.__("Customer")),1),t("th",null,[t("p",null,o(e.__("Duration")),1),t("p",z,o(e.__("in Dezimal")),1)]),t("th",I,o(e.__("Rate")),1),t("th",j,o(e.__("Netto")),1)])]),t("tbody",null,[(n(!0),l(p,null,g(f.value,s=>(n(),l("tr",{onClick:T(v=>e.$inertia.visit(e.route("timetrack.show",s)),["prevent"])},[t("td",null,[t("p",null,[m(o(s.started)+" ",1),s.ended!==""?(n(),l("span",A)):b("",!0),m(o(s.ended),1)]),t("p",E,o(s.created),1)]),t("td",null,[t("p",null,o(s.customer),1),t("p",P,o(s.address),1)]),t("td",null,[t("p",null,o(s.duration),1),t("p",G,o(s.duration_float),1)]),t("td",J,[t("p",null,o(s.rate),1),t("p",K,o(s.rate_vat),1),t("p",O,o(s.rate_btto),1)]),t("td",Q,[t("p",null,o(s.netto),1),t("p",U,o(s.vat),1),t("p",W,o(s.brutto),1)])],8,q))),256))]),t("tfoot",null,[t("tr",null,[t("td",X,[t("div",Y,[i.value.length>3?(n(),l("div",Z,[t("div",k,[(n(!0),l(p,null,g(i.value,(s,v)=>(n(),l(p,null,[s.url===null?(n(),l("div",{key:0,class:"mb-1 mr-1 px-4 py-3 text-gray-400 text-sm leading-4 border",innerHTML:s.label},null,8,tt)):(n(),l("div",{key:1,onClick:ot=>w(v),class:$(["mb-1 mr-1 px-4 py-3 focus:text-indigo-500 text-sm leading-4 hover:bg-white border focus:border-orange-500 cursor-pointer",{"text-orange-500 font-bold":s.active}]),innerHTML:s.label},null,10,et))],64))),256))])])):b("",!0)])])])])])]),_:1},8,["title"]))}};export{ht as default};
