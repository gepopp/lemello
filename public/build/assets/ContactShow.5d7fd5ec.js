import{l as p,d as M,q as B,k as m,o as a,c as $,w as C,a as t,t as n,b as u,g as r,L as S,e as c,f as i,i as d,F as v,h as g}from"./app.670b4402.js";import{_ as T}from"./AppLayout.8e629df2.js";import{S as x}from"./Seperator.4149c50b.js";import{_ as V}from"./GenderIcon.ec7bba86.js";import"./_plugin-vue_export-helper.cdc0426e.js";const z={class:"font-semibold text-xl text-gray-800 leading-tight"},D={class:"relative"},N={class:"absolute top-0 right-0 -mt-16"},A={class:"w-14 h-14 rounded-full bg-orange-200 shadow-3xl"},H=t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-8 h-8 text-white"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1),F={class:"grid grid-cols-1 md:grid-cols-2 md:gap-x-10"},Y=["textContent"],q={class:"text-xs font-thin"},E=["textContent"],O=d(", "),P=["textContent"],G=d(),I=["textContent"],J={class:"text-2xl"},K=["textContent"],Q=["textContent"],R=d("\xA0 "),U=["textContent"],W=["textContent"],X=["href","textContent"],Z={key:3},tt=["href","textContent"],et={key:4},nt=t("br",null,null,-1),ot={key:0},st=t("br",null,null,-1),at={key:0},ct=t("div",{class:"w-8 h-8 bg-gray-200 animate-pulse flex-shrink-0"},null,-1),lt=t("div",{class:"animate-pulse"},[t("p",{class:"bg-gray-200 w-48 max-w-full animate-pulse animate-pulse"},"\xA0"),t("p",{class:"text-xs font-semibold bg-gray-200 animate-pulse w-36 max-w-full mt-1"},"\xA0"),t("p",{class:"text-xs font-thin bg-gray-200 w-96 max-w-full animate-pulse mt-1"},"\xA0")],-1),it=[ct,lt],dt=["onClick"],rt=["textContent"],ut=["textContent"],ht={class:"text-xs font-thin mt-1"},mt=["textContent"],xt=d(", "),ft=["textContent"],_t=d(),Ct=["textContent"],vt={key:0},gt={class:"text-xl font-semibold"},yt={class:"w-full"},bt=["textContent"],wt=["textContent"],kt=["textContent"],pt=d(":"),Mt=["textContent"],$t=["textContent"],jt={class:"whitespace-pre"},Lt={colspan:"2"},Bt={class:"flex justify-end"},St=["textContent"],Tt=["textContent"],Ht={__name:"ContactShow",props:{contact:Object},setup(e){const h=e,j=p().props.value.locale,y=M([]),f=M(!1);B(()=>{h.contact.is_company==1&&(f.value=!0,setTimeout(()=>{axios.get(route("employees",h.contact)).then(o=>{y.value=o.data,f.value=!1})},1e3))});const b=(o,l)=>moment(o).locale(p().props.value.locale).format(l);m(()=>{var o=0;return h.contact.timetracks.map(l=>o+=l.minutes),o});const w=m(()=>{var o=0;return h.contact.timetracks.map(l=>{o+=Math.round(l.minutes/60*100)/100}),o}),_=m(()=>Math.round(w.value*95.43*100)/100),k=m(()=>Math.round(_.value*1.2*100)/100);return(o,l)=>(a(),$(T,{title:o.__("Contact")+": "+e.contact.name},{header:C(()=>[t("h2",z,n(o.__("Contact")+": "+e.contact.name),1)]),default:C(()=>[t("div",D,[t("div",N,[t("div",A,[u(r(S),{href:o.route("contact.edit",e.contact),class:"flex justify-center items-center h-full w-full"},{default:C(()=>[H]),_:1},8,["href"])])]),t("div",F,[t("div",null,[t("div",null,[e.contact.company?(a(),c("div",{key:0,class:"border border-gray-400 p-2 hover:bg-gray-200 flex justify-between cursor-pointer",onClick:l[0]||(l[0]=s=>o.$inertia.visit(o.route("contact.show",e.contact.company)))},[t("div",null,[t("p",{textContent:n(e.contact.company.name)},null,8,Y),t("p",q,[t("span",{textContent:n(e.contact.company.address.line_1)},null,8,E),O,t("span",{textContent:n(e.contact.company.address.zip)},null,8,P),G,t("span",{textContent:n(e.contact.company.address.city)},null,8,I)])])])):i("",!0),e.contact.company?(a(),$(x,{key:1})):i("",!0),t("p",J,[e.contact.academic_degree&&e.contact.is_company==0?(a(),c("span",{key:0,class:"text-xl font-thin mr-2",textContent:n(e.contact.academic_degree)},null,8,K)):i("",!0),t("span",{class:"font-bold",textContent:n(e.contact.name)},null,8,Q),R,e.contact.is_company==0?(a(),c("span",{key:1,class:"text-xl font-thin",textContent:n(e.contact.academic_degree_after)},null,8,U)):i("",!0)]),e.contact.is_company==0?(a(),c("p",{key:2,class:"text-sm",textContent:n(e.contact.position)},null,8,W)):i("",!0),u(x),t("p",null,[t("a",{href:"mailto:"+e.contact.email,textContent:n(e.contact.email),class:"underline"},null,8,X)]),e.contact.phone?(a(),c("p",Z,[t("a",{href:"tel:"+e.contact.phone,textContent:n(e.contact.phone),class:"underline"},null,8,tt)])):i("",!0),u(x),e.contact.address?(a(),c("address",et,[d(n(e.contact.address.line_1),1),nt,d(" "+n(e.contact.address.line_2),1),e.contact.address.line_2?(a(),c("br",ot)):i("",!0),d(" "+n(e.contact.address.zip)+"\xA0"+n(e.contact.address.city),1),st,d(" "+n(e.contact.address.country[r(j)]),1)])):i("",!0)]),u(x),f.value?(a(),c("div",at,[(a(!0),c(v,null,g(e.contact.contacts_count,s=>(a(),c("div",{class:"flex space-x-3 border border-gray-400 p-2 mb-3 overflow-hidden",onClick:l[1]||(l[1]=L=>o.$inertia.visit(o.route("contact.show",o.employee)))},it))),256))])):i("",!0),(a(!0),c(v,null,g(y.value,s=>(a(),c("div",{class:"border border-gray-400 p-2 hover:bg-gray-200 flex space-x-3 cursor-pointer mb-3",onClick:L=>o.$inertia.visit(o.route("contact.show",s))},[t("div",null,[u(V,{contact:s},null,8,["contact"])]),t("div",null,[t("p",{textContent:n(s.name)},null,8,rt),t("p",{class:"text-xs font-semibold",textContent:n(s.position)},null,8,ut),t("p",ht,[t("span",{textContent:n(s.address.line_1)},null,8,mt),xt,t("span",{textContent:n(s.address.zip)},null,8,ft),_t,t("span",{textContent:n(s.address.city)},null,8,Ct)])])],8,dt))),256))]),t("div",null,[e.contact.timetracks?(a(),c("div",vt,[t("h3",gt,n(o.__("Timetracks")),1),t("table",yt,[(a(!0),c(v,null,g(e.contact.timetracks,s=>(a(),c("tr",null,[t("td",null,[t("p",{textContent:n(b(s.created_at,"DD.MM.YY"))},null,8,bt),t("p",{textContent:n(b(s.created_at,"hh:mm")),class:"text-sm font-thin"},null,8,wt)]),t("td",null,[t("p",null,[t("span",{textContent:n(Math.round(s.minutes/60))},null,8,kt),pt,t("span",{textContent:n((s.minutes%60).length!=2?"0":""+s.minutes%60)},null,8,Mt)]),t("p",{textContent:n(Math.round(s.minutes/60*100)/100),class:"text-sm font-thin"},null,8,$t)]),t("td",jt,n(s.note),1)]))),256)),t("tfoot",null,[t("tr",null,[t("td",null,n(o.__("Total:")),1),t("td",Lt,[t("p",Bt,n(r(w))+" Stunden \xE0 95,43 = "+n(r(_)),1),t("p",{class:"text-sm font-thin flex justify-end",textContent:n(Math.round((r(k)-r(_))*100)/100)},null,8,St),t("p",{class:"font-bold flex justify-end",textContent:n(r(k))},null,8,Tt)])])])])])):i("",!0)])])])]),_:1},8,["title"]))}};export{Ht as default};
