import{d as v,l as M,q as S,o as s,c as p,w as x,a as t,t as n,b as l,g as y,L as z,e as a,f as r,i as d,F as g,h as w,x as N,y as V}from"./app.d308b2b5.js";import{_ as P}from"./AppLayout.0de389dd.js";import{S as u}from"./Seperator.edd8d051.js";import{_ as T}from"./GenderIcon.3c32d8b0.js";import{_ as A}from"./DialogModal.2420f970.js";import{_ as D}from"./TimeTrackForm.8b617ef8.js";import{_ as b}from"./TimeTrackList.2ad0ae8a.js";import{_ as F}from"./DeleteModel.aa57a71d.js";import{_ as H}from"./ProjectBox.0905a001.js";import{_ as q}from"./Button.c9ce13e0.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./Label.13ed673e.js";import"./ContactSelect.749ff550.js";import"./Input.d9124732.js";import"./ProjectSelect.692e8597.js";import"./ConfirmsPassword.400c05bb.js";import"./InputError.56946907.js";import"./SecondaryButton.db07cb43.js";const E={class:"font-semibold text-xl text-gray-800 leading-tight"},O={class:"relative"},R={class:"absolute top-0 right-0 -mt-16 flex space-x-3"},G=t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-8 h-8 text-white"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),I=[G],J={class:"w-14 h-14 rounded-full bg-orange-200 shadow-3xl"},K=t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-8 h-8 text-white"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1),Q={class:"grid grid-cols-1 md:grid-cols-2 md:gap-x-10"},U=["textContent"],W={class:"text-xs font-thin"},X=["textContent"],Y=d(", "),Z=["textContent"],tt=d(),et=["textContent"],nt={class:"text-2xl"},ot=["textContent"],st=["textContent"],at=d("\xA0 "),ct=["textContent"],lt={class:"font-semibold text-lg"},it={key:0,class:"py-5"},rt={key:1,class:"py-5"},dt=["href"],ut=t("div",null,[t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})])],-1),mt=["textContent"],ht=["href","textContent"],ft={key:3},vt=["href","textContent"],xt={key:4},_t=t("br",null,null,-1),gt={key:0},wt=t("br",null,null,-1),Ct={key:0},kt=t("div",{class:"w-8 h-8 bg-gray-200 animate-pulse flex-shrink-0"},null,-1),pt=t("div",{class:"animate-pulse"},[t("p",{class:"bg-gray-200 w-48 max-w-full animate-pulse animate-pulse"},"\xA0"),t("p",{class:"text-xs font-semibold bg-gray-200 animate-pulse w-36 max-w-full mt-1"},"\xA0"),t("p",{class:"text-xs font-thin bg-gray-200 w-96 max-w-full animate-pulse mt-1"},"\xA0")],-1),yt=[kt,pt],bt=["onClick"],$t=["textContent"],jt=["textContent"],Lt={class:"text-xs font-thin mt-1"},Bt=["textContent"],Mt=d(", "),St=["textContent"],zt=d(),Nt=["textContent"],Vt={class:"font-semibold text-xl mb-5"},Pt=t("div",{class:"m-5 bg-gray-100 animate-pulse aspect-video"},null,-1),Tt={class:"py-10"},At={class:"grid grid-cols-1 md:grid-cols-2 md:gap-x-10"},Dt={class:"p-5"},ne={__name:"ContactShow",props:{contact:Object,project_count:Number},setup(e){const m=e,h=v(m.contact.customer_page),$=M().props.value.locale,k=v([]),C=v(!1),f=v(!1),_=v(!1),j=()=>{axios.post(route("customer-page.store",{customer:m.contact})).then(o=>h.value=o.data)},L=()=>{axios.put(route("customer-page.update",{customer:m.contact,customer_page:h.value})).then(o=>h.value=o.data)};return S(()=>{m.contact.is_company==1&&(C.value=!0,setTimeout(()=>{axios.get(route("employees",m.contact)).then(o=>{k.value=o.data,C.value=!1})},1e3)),m.project_count>0&&setTimeout(()=>{axios.get(route("contact.projects",{contact:m.contact})).then(o=>_.value=o.data)},1500)}),(o,i)=>(s(),p(P,{title:o.__("Contact")+": "+e.contact.name},{header:x(()=>[t("h2",E,n(o.__("Contact")+": "+e.contact.name),1)]),default:x(()=>[t("div",O,[t("div",R,[t("div",{class:"flex items-center justify-center w-14 h-14 rounded-full bg-orange-200 shadow-3xl cursor-pointer",onClick:i[0]||(i[0]=c=>f.value=!f.value)},I),t("div",J,[l(y(z),{href:o.route("contact.edit",e.contact),class:"flex justify-center items-center h-full w-full"},{default:x(()=>[K]),_:1},8,["href"])]),l(F,{"delete-route":o.route("contact.destroy",e.contact)},null,8,["delete-route"])]),t("div",Q,[t("div",null,[t("div",null,[e.contact.company?(s(),a("div",{key:0,class:"border border-gray-400 p-2 hover:bg-gray-200 flex justify-between cursor-pointer",onClick:i[1]||(i[1]=c=>o.$inertia.visit(o.route("contact.show",e.contact.company)))},[t("div",null,[t("p",{textContent:n(e.contact.company.name)},null,8,U),t("p",W,[t("span",{textContent:n(e.contact.company.address.line_1)},null,8,X),Y,t("span",{textContent:n(e.contact.company.address.zip)},null,8,Z),tt,t("span",{textContent:n(e.contact.company.address.city)},null,8,et)])])])):r("",!0),e.contact.company?(s(),p(u,{key:1})):r("",!0),t("p",nt,[e.contact.academic_degree&&e.contact.is_company==0?(s(),a("span",{key:0,class:"text-xl font-thin mr-2",textContent:n(e.contact.academic_degree)},null,8,ot)):r("",!0),t("span",{class:"font-bold",textContent:n(e.contact.name)},null,8,st),at,e.contact.is_company==0?(s(),a("span",{key:1,class:"text-xl font-thin",textContent:n(e.contact.academic_degree_after)},null,8,ct)):r("",!0)]),l(u),t("div",null,[t("h3",lt,n(o.__("Customer Link")),1),h.value==null?(s(),a("div",it,[l(q,{class:"w-full justify-center",onClick:j},{default:x(()=>[d(n(o.__("Ceate Customer Page Link")),1)]),_:1})])):(s(),a("div",rt,[t("a",{href:o.route("customer-page.show",{customer:e.contact,customer_page:h.value.slug}),target:"_blank"},n(o.route("customer-page.show",{customer:e.contact,customer_page:h.value.slug})),9,dt),t("div",{class:"flex justify-end items-center space-x-3 py-3 cursor-pointer",onClick:L},[t("p",null,n(o.__("renew link")),1),ut])]))]),e.contact.is_company==0?(s(),a("p",{key:2,class:"text-sm",textContent:n(e.contact.position)},null,8,mt)):r("",!0),l(u),t("p",null,[t("a",{href:"mailto:"+e.contact.email,textContent:n(e.contact.email),class:"underline"},null,8,ht)]),e.contact.phone?(s(),a("p",ft,[t("a",{href:"tel:"+e.contact.phone,textContent:n(e.contact.phone),class:"underline"},null,8,vt)])):r("",!0),l(u),e.contact.address?(s(),a("address",xt,[d(n(e.contact.address.line_1),1),_t,d(" "+n(e.contact.address.line_2),1),e.contact.address.line_2?(s(),a("br",gt)):r("",!0),d(" "+n(e.contact.address.zip)+"\xA0"+n(e.contact.address.city),1),wt,d(" "+n(e.contact.address.country[y($)]),1)])):r("",!0)]),l(u),C.value?(s(),a("div",Ct,[(s(!0),a(g,null,w(e.contact.contacts_count,c=>(s(),a("div",{class:"flex space-x-3 border border-gray-400 p-2 mb-3 overflow-hidden",onClick:i[2]||(i[2]=B=>o.$inertia.visit(o.route("contact.show",o.employee)))},yt))),256))])):r("",!0),(s(!0),a(g,null,w(k.value,c=>(s(),a("div",{class:"border border-gray-400 p-2 hover:bg-gray-200 flex space-x-3 cursor-pointer mb-3",onClick:B=>o.$inertia.visit(o.route("contact.show",c))},[t("div",null,[l(T,{contact:c},null,8,["contact"])]),t("div",null,[t("p",{textContent:n(c.name)},null,8,$t),t("p",{class:"text-xs font-semibold",textContent:n(c.position)},null,8,jt),t("p",Lt,[t("span",{textContent:n(c.address.line_1)},null,8,Bt),Mt,t("span",{textContent:n(c.address.zip)},null,8,St),zt,t("span",{textContent:n(c.address.city)},null,8,Nt)])])],8,bt))),256))]),l(b,{tracks:e.contact.timetracks},null,8,["tracks"])]),l(u),t("h2",Vt,n(o.__("Running Projects")),1),(s(!0),a(g,null,w(e.project_count,c=>N((s(),a("div",null,[Pt,l(u)],512)),[[V,!_.value]])),256)),_.value?(s(!0),a(g,{key:0},w(_.value,c=>(s(),a("div",Tt,[t("div",At,[t("div",null,[l(H,{project:c},null,8,["project"])]),l(b,{tracks:c.timetracks},null,8,["tracks"])]),l(u)]))),256)):r("",!0)]),l(A,{show:f.value,onClose:i[4]||(i[4]=c=>f.value=!1)},{default:x(()=>[t("div",Dt,[l(D,{class:"flex-col space-x-0",attach:e.contact,onSaved:i[3]||(i[3]=c=>f.value=!1)},null,8,["attach"])])]),_:1},8,["show"])]),_:1},8,["title"]))}};export{ne as default};
