import{d,q as w,m as p,o as n,c as C,w as c,a as e,t as l,b as h,g as k,L,i as M,e as a,h as g,F as m,f as y,p as T,n as $}from"./app.902c1631.js";import{_ as H}from"./Label.e87d20e0.js";import{_ as N}from"./ContactSelect.6afe4676.js";import{_ as j}from"./AppLayout.1e89a0c4.js";import"./Input.0ba70f7a.js";import"./_plugin-vue_export-helper.cdc0426e.js";const B={class:"font-semibold text-xl text-gray-800 leading-tight"},P={class:"relative"},V={class:"absolute top-0 right-0 -mt-16 flex space-x-3"},F={class:"w-14 h-14 rounded-full bg-orange-200 shadow-3xl"},D=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-8 h-8 text-white"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1),I={class:"my-2"},S={class:"table-auto w-full"},q=["onClick"],z=["textContent"],E=["textContent"],R=["innerHTML"],A={class:"text-xs font-thin"},G={colspan:"5"},J={class:"flex justify-between"},K={key:0},O={class:"flex flex-wrap -mb-1"},Q=["innerHTML"],U=["onClick","innerHTML"],le={__name:"ProjectsIndex",props:{count:Number},setup(x){const i=d(null),v=d([]),r=d({}),o=d(0);w(()=>_());const _=()=>{axios.get(route("projects.loadIndex",{page:o.value,customer_id:i.value})).then(t=>{v.value=t.data.data,r.value=t.data.links})},b=t=>{t===0&&o.value>1?o.value--:t===r.value.length-1&&o.value<r.value.length-1?o.value++:t!==0&&t!==r.value.length-1&&(o.value=t)};return p(()=>o.value,t=>_()),p(()=>i.value,t=>_()),(t,u)=>(n(),C(j,{title:t.__("Project")},{header:c(()=>[e("h2",B,l(t.__("Project")),1)]),default:c(()=>[e("div",P,[e("div",V,[e("div",F,[h(k(L),{href:t.route("project.create"),class:"flex justify-center items-center h-full w-full"},{default:c(()=>[D]),_:1},8,["href"])])]),e("div",I,[h(H,{class:"mb-1"},{default:c(()=>[M(l(t.__("Filter")),1)]),_:1}),h(N,{contact:null,filter:{tracks:!0},onRemove:u[0]||(u[0]=s=>i.value=0),onSet:u[1]||(u[1]=s=>i.value=s.id),address:!1})]),e("table",S,[e("thead",null,[e("tr",null,[e("th",null,l(t.__("Created")),1),e("th",null,l(t.__("Name")),1),e("th",null,l(t.__("Description")),1),e("th",null,l(t.__("Customer")),1)])]),e("tbody",null,[(n(!0),a(m,null,g(v.value,s=>(n(),a("tr",{onClick:T(f=>t.$inertia.visit(t.route("project.show",s)),["prevent"])},[e("td",{textContent:l(s.created)},null,8,z),e("td",{textContent:l(s.name)},null,8,E),e("td",{innerHTML:s.description,class:"text-sm font-light line-clamp-3"},null,8,R),e("td",null,[e("p",null,l(s.customer.name),1),e("p",A,l(s.customer.address),1)])],8,q))),256))]),e("tfoot",null,[e("tr",null,[e("td",G,[e("div",J,[x.count>0?(n(),a("div",K,[e("div",O,[(n(!0),a(m,null,g(r.value,(s,f)=>(n(),a(m,null,[s.url===null?(n(),a("div",{key:0,class:"mb-1 mr-1 px-4 py-3 text-gray-400 text-sm leading-4 border",innerHTML:s.label},null,8,Q)):(n(),a("div",{key:1,onClick:W=>b(f),class:$(["mb-1 mr-1 px-4 py-3 focus:text-indigo-500 text-sm leading-4 hover:bg-white border focus:border-orange-500 cursor-pointer",{"text-orange-500 font-bold":s.active}]),innerHTML:s.label},null,10,U))],64))),256))])])):y("",!0)])])])])])])]),_:1},8,["title"]))}};export{le as default};
