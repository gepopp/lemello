import{o as s,c as w,w as x,a as t,t as n,g as k,L as j,i,d as v,l as z,q as S,b as l,e as a,f as d,F as g,h as C,x as N,y as P}from"./app.5e91cadb.js";import{_ as V}from"./AppLayout.108b072d.js";import{S as m}from"./Seperator.261ffa2f.js";import{_ as A}from"./GenderIcon.24f3c450.js";import{_ as T}from"./DialogModal.86047474.js";import{_ as H}from"./TimeTrackForm.83d20c6b.js";import{_ as b}from"./TimeTrackList.aefd11e4.js";import{_ as D}from"./DeleteModel.f6448c88.js";import{_ as F}from"./Button.7a1934ed.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./Label.d55e2f0f.js";import"./ContactSelect.56b6b5df.js";import"./Input.6c12898b.js";import"./ProjectSelect.3f768abc.js";import"./ConfirmsPassword.7141e139.js";import"./InputError.b59ae6b7.js";import"./SecondaryButton.3acf27d8.js";const O=t("div",{class:"flex-none shrink-0"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.42 15.17L17.25 21A2.652 2.652 0 0021 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.317-.384.74-.626 1.208-.766M11.42 15.17l-4.655 5.653a2.548 2.548 0 11-3.586-3.586l6.837-5.63m5.108-.233c.55-.164 1.163-.188 1.743-.14a4.5 4.5 0 004.486-6.336l-3.276 3.277a3.004 3.004 0 01-2.25-2.25l3.276-3.276a4.5 4.5 0 00-6.336 4.486c.091 1.076-.071 2.264-.904 2.95l-.102.085m-1.745 1.437L5.909 7.5H4.5L2.25 3.75l1.5-1.5L7.5 4.5v1.409l4.26 4.26m-1.745 1.437l1.745-1.437m6.615 8.206L15.75 15.75M4.867 19.125h.008v.008h-.008v-.008z"})])],-1),q=["textContent"],E=["textContent"],R={class:"text-xs font-thin mt-1"},G=["textContent"],I=i(", "),J=["textContent"],K=i(),Q=["textContent"],U={__name:"ProjectBox",props:{project:Object},setup(e){return(u,h)=>(s(),w(k(j),{class:"border text-gray-800 p-2 flex space-x-3 hover:bg-gray-200",href:u.route("project.show",e.project)},{default:x(()=>[O,t("div",null,[t("p",{class:"font-bold",textContent:n(e.project.name)},null,8,q),t("p",{class:"text-xs font-semibold",textContent:n(e.project.contact.name)},null,8,E),t("p",R,[t("span",{textContent:n(e.project.contact.address.line_1)},null,8,G),I,t("span",{textContent:n(e.project.contact.address.zip)},null,8,J),K,t("span",{textContent:n(e.project.contact.address.city)},null,8,Q)])])]),_:1},8,["href"]))}},W={class:"font-semibold text-xl text-gray-800 leading-tight"},X={class:"relative"},Y={class:"absolute top-0 right-0 -mt-16 flex space-x-3"},Z=t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-8 h-8 text-white"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),tt=[Z],et={class:"w-14 h-14 rounded-full bg-orange-200 shadow-3xl"},nt=t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-8 h-8 text-white"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1),ot={class:"grid grid-cols-1 md:grid-cols-2 md:gap-x-10"},st=["textContent"],at={class:"text-xs font-thin"},ct=["textContent"],lt=i(", "),it=["textContent"],rt=i(),dt=["textContent"],ut={class:"text-2xl"},mt=["textContent"],ht=["textContent"],xt=i("\xA0 "),ft=["textContent"],vt={class:"font-semibold text-lg"},_t={key:0,class:"py-5"},gt={key:1,class:"py-5"},Ct=["href"],pt=t("div",null,[t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})])],-1),wt=["textContent"],kt=["href","textContent"],yt={key:3},bt=["href","textContent"],jt={key:4},$t=t("br",null,null,-1),Lt={key:0},Mt=t("br",null,null,-1),Bt={key:0},zt=t("div",{class:"w-8 h-8 bg-gray-200 animate-pulse flex-shrink-0"},null,-1),St=t("div",{class:"animate-pulse"},[t("p",{class:"bg-gray-200 w-48 max-w-full animate-pulse animate-pulse"},"\xA0"),t("p",{class:"text-xs font-semibold bg-gray-200 animate-pulse w-36 max-w-full mt-1"},"\xA0"),t("p",{class:"text-xs font-thin bg-gray-200 w-96 max-w-full animate-pulse mt-1"},"\xA0")],-1),Nt=[zt,St],Pt=["onClick"],Vt=["textContent"],At=["textContent"],Tt={class:"text-xs font-thin mt-1"},Ht=["textContent"],Dt=i(", "),Ft=["textContent"],Ot=i(),qt=["textContent"],Et={class:"font-semibold text-xl mb-5"},Rt=t("div",{class:"m-5 bg-gray-100 animate-pulse aspect-video"},null,-1),Gt={class:"py-10"},It={class:"grid grid-cols-1 md:grid-cols-2 md:gap-x-10"},Jt={class:"p-5"},de={__name:"ContactShow",props:{contact:Object,project_count:Number},setup(e){const u=e,h=v(u.contact.customer_page),$=z().props.value.locale,y=v([]),p=v(!1),f=v(!1),_=v(!1),L=()=>{axios.post(route("customer-page.store",{customer:u.contact})).then(o=>h.value=o.data)},M=()=>{axios.put(route("customer-page.update",{customer:u.contact,customer_page:h.value})).then(o=>h.value=o.data)};return S(()=>{u.contact.is_company==1&&(p.value=!0,setTimeout(()=>{axios.get(route("employees",u.contact)).then(o=>{y.value=o.data,p.value=!1})},1e3)),u.project_count>0&&setTimeout(()=>{axios.get(route("contact.projects",{contact:u.contact})).then(o=>_.value=o.data)},1500)}),(o,r)=>(s(),w(V,{title:o.__("Contact")+": "+e.contact.name},{header:x(()=>[t("h2",W,n(o.__("Contact")+": "+e.contact.name),1)]),default:x(()=>[t("div",X,[t("div",Y,[t("div",{class:"flex items-center justify-center w-14 h-14 rounded-full bg-orange-200 shadow-3xl cursor-pointer",onClick:r[0]||(r[0]=c=>f.value=!f.value)},tt),t("div",et,[l(k(j),{href:o.route("contact.edit",e.contact),class:"flex justify-center items-center h-full w-full"},{default:x(()=>[nt]),_:1},8,["href"])]),l(D,{"delete-route":o.route("contact.destroy",e.contact)},null,8,["delete-route"])]),t("div",ot,[t("div",null,[t("div",null,[e.contact.company?(s(),a("div",{key:0,class:"border border-gray-400 p-2 hover:bg-gray-200 flex justify-between cursor-pointer",onClick:r[1]||(r[1]=c=>o.$inertia.visit(o.route("contact.show",e.contact.company)))},[t("div",null,[t("p",{textContent:n(e.contact.company.name)},null,8,st),t("p",at,[t("span",{textContent:n(e.contact.company.address.line_1)},null,8,ct),lt,t("span",{textContent:n(e.contact.company.address.zip)},null,8,it),rt,t("span",{textContent:n(e.contact.company.address.city)},null,8,dt)])])])):d("",!0),e.contact.company?(s(),w(m,{key:1})):d("",!0),t("p",ut,[e.contact.academic_degree&&e.contact.is_company==0?(s(),a("span",{key:0,class:"text-xl font-thin mr-2",textContent:n(e.contact.academic_degree)},null,8,mt)):d("",!0),t("span",{class:"font-bold",textContent:n(e.contact.name)},null,8,ht),xt,e.contact.is_company==0?(s(),a("span",{key:1,class:"text-xl font-thin",textContent:n(e.contact.academic_degree_after)},null,8,ft)):d("",!0)]),l(m),t("div",null,[t("h3",vt,n(o.__("Customer Link")),1),h.value==null?(s(),a("div",_t,[l(F,{class:"w-full justify-center",onClick:L},{default:x(()=>[i(n(o.__("Ceate Customer Page Link")),1)]),_:1})])):(s(),a("div",gt,[t("a",{href:o.route("customer-page.show",{customer:e.contact,customer_page:h.value.slug}),target:"_blank"},n(o.route("customer-page.show",{customer:e.contact,customer_page:h.value.slug})),9,Ct),t("div",{class:"flex justify-end items-center space-x-3 py-3 cursor-pointer",onClick:M},[t("p",null,n(o.__("renew link")),1),pt])]))]),e.contact.is_company==0?(s(),a("p",{key:2,class:"text-sm",textContent:n(e.contact.position)},null,8,wt)):d("",!0),l(m),t("p",null,[t("a",{href:"mailto:"+e.contact.email,textContent:n(e.contact.email),class:"underline"},null,8,kt)]),e.contact.phone?(s(),a("p",yt,[t("a",{href:"tel:"+e.contact.phone,textContent:n(e.contact.phone),class:"underline"},null,8,bt)])):d("",!0),l(m),e.contact.address?(s(),a("address",jt,[i(n(e.contact.address.line_1),1),$t,i(" "+n(e.contact.address.line_2),1),e.contact.address.line_2?(s(),a("br",Lt)):d("",!0),i(" "+n(e.contact.address.zip)+"\xA0"+n(e.contact.address.city),1),Mt,i(" "+n(e.contact.address.country[k($)]),1)])):d("",!0)]),l(m),p.value?(s(),a("div",Bt,[(s(!0),a(g,null,C(e.contact.contacts_count,c=>(s(),a("div",{class:"flex space-x-3 border border-gray-400 p-2 mb-3 overflow-hidden",onClick:r[2]||(r[2]=B=>o.$inertia.visit(o.route("contact.show",o.employee)))},Nt))),256))])):d("",!0),(s(!0),a(g,null,C(y.value,c=>(s(),a("div",{class:"border border-gray-400 p-2 hover:bg-gray-200 flex space-x-3 cursor-pointer mb-3",onClick:B=>o.$inertia.visit(o.route("contact.show",c))},[t("div",null,[l(A,{contact:c},null,8,["contact"])]),t("div",null,[t("p",{textContent:n(c.name)},null,8,Vt),t("p",{class:"text-xs font-semibold",textContent:n(c.position)},null,8,At),t("p",Tt,[t("span",{textContent:n(c.address.line_1)},null,8,Ht),Dt,t("span",{textContent:n(c.address.zip)},null,8,Ft),Ot,t("span",{textContent:n(c.address.city)},null,8,qt)])])],8,Pt))),256))]),l(b,{tracks:e.contact.timetracks},null,8,["tracks"])]),l(m),t("h2",Et,n(o.__("Running Projects")),1),(s(!0),a(g,null,C(e.project_count,c=>N((s(),a("div",null,[Rt,l(m)],512)),[[P,!_.value]])),256)),_.value?(s(!0),a(g,{key:0},C(_.value,c=>(s(),a("div",Gt,[t("div",It,[t("div",null,[l(U,{project:c},null,8,["project"])]),l(b,{tracks:c.timetracks},null,8,["tracks"])]),l(m)]))),256)):d("",!0)]),l(T,{show:f.value,onClose:r[4]||(r[4]=c=>f.value=!1)},{default:x(()=>[t("div",Jt,[l(H,{class:"flex-col space-x-0",attach:e.contact,onSaved:r[3]||(r[3]=c=>f.value=!1)},null,8,["attach"])])]),_:1},8,["show"])]),_:1},8,["title"]))}};export{de as default};
