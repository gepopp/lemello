import{l as k,d as M,q as L,k as m,o as a,c as B,w as C,a as t,t as e,b as u,g as r,L as S,e as l,f as d,i,F as v,h as g}from"./app.542b9e37.js";import{_ as T}from"./AppLayout.9e5c9227.js";import{S as x}from"./Seperator.84ac47fd.js";import{_ as V}from"./GenderIcon.63027fcb.js";import"./_plugin-vue_export-helper.cdc0426e.js";const z={class:"font-semibold text-xl text-gray-800 leading-tight"},D={class:"relative"},N={class:"absolute top-0 right-0 -mt-16"},A={class:"w-14 h-14 rounded-full bg-orange-200 shadow-3xl"},H=t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-8 h-8 text-white"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1),F={class:"grid grid-cols-1 md:grid-cols-2 md:gap-x-10"},Y=["textContent"],q={class:"text-xs font-thin"},E=["textContent"],O=i(", "),P=["textContent"],G=i(),I=["textContent"],J={class:"text-2xl"},K=["textContent"],Q=["textContent"],R=i("\xA0 "),U=["textContent"],W=["textContent"],X=["href","textContent"],Z={key:2},tt=["href","textContent"],et={key:3},nt=t("br",null,null,-1),ot={key:0},st=t("br",null,null,-1),at={key:0},lt=t("div",{class:"w-8 h-8 bg-gray-200 animate-pulse flex-shrink-0"},null,-1),ct=t("div",{class:"animate-pulse"},[t("p",{class:"bg-gray-200 w-48 max-w-full animate-pulse animate-pulse"},"\xA0"),t("p",{class:"text-xs font-semibold bg-gray-200 animate-pulse w-36 max-w-full mt-1"},"\xA0"),t("p",{class:"text-xs font-thin bg-gray-200 w-96 max-w-full animate-pulse mt-1"},"\xA0")],-1),it=[lt,ct],dt=["onClick"],rt=["textContent"],ut=["textContent"],ht={class:"text-xs font-thin mt-1"},mt=["textContent"],xt=i(", "),_t=["textContent"],ft=i(),Ct=["textContent"],vt={class:"text-xl font-semibold"},gt={class:"w-full"},yt=["textContent"],bt=["textContent"],wt=["textContent"],pt=i(":"),kt=["textContent"],Mt=["textContent"],$t={class:"whitespace-pre"},jt={colspan:"2"},Lt={class:"flex justify-end"},Bt=["textContent"],St=["textContent"],At={__name:"ContactShow",props:{contact:Object},setup(n){const h=n,$=k().props.value.locale,y=M([]),_=M(!1);L(()=>{h.contact.is_company==1&&(_.value=!0,setTimeout(()=>{axios.get(route("employees",h.contact)).then(o=>{y.value=o.data,_.value=!1})},1e3))});const b=(o,c)=>moment(o).locale(k().props.value.locale).format(c);m(()=>{var o=0;return h.contact.timetracks.map(c=>o+=c.minutes),o});const w=m(()=>{var o=0;return h.contact.timetracks.map(c=>{o+=Math.round(c.minutes/60*100)/100}),o}),f=m(()=>Math.round(w.value*95.43*100)/100),p=m(()=>Math.round(f.value*1.2*100)/100);return(o,c)=>(a(),B(T,{title:o.__("Contact")+": "+n.contact.name},{header:C(()=>[t("h2",z,e(o.__("Contact")+": "+n.contact.name),1)]),default:C(()=>[t("div",D,[t("div",N,[t("div",A,[u(r(S),{href:o.route("contact.edit",n.contact),class:"flex justify-center items-center h-full w-full"},{default:C(()=>[H]),_:1},8,["href"])])]),t("div",F,[t("div",null,[t("div",null,[n.contact.company?(a(),l("div",{key:0,class:"border border-gray-400 p-2 hover:bg-gray-200 flex justify-between cursor-pointer",onClick:c[0]||(c[0]=s=>o.$inertia.visit(o.route("contact.show",n.contact.company)))},[t("div",null,[t("p",{textContent:e(n.contact.company.name)},null,8,Y),t("p",q,[t("span",{textContent:e(n.contact.company.address.line_1)},null,8,E),O,t("span",{textContent:e(n.contact.company.address.zip)},null,8,P),G,t("span",{textContent:e(n.contact.company.address.city)},null,8,I)])]),u(x)])):d("",!0),t("p",J,[n.contact.academic_degree&&n.contact.is_company==0?(a(),l("span",{key:0,class:"text-xl font-thin mr-2",textContent:e(n.contact.academic_degree)},null,8,K)):d("",!0),t("span",{class:"font-bold",textContent:e(n.contact.name)},null,8,Q),R,n.contact.is_company==0?(a(),l("span",{key:1,class:"text-xl font-thin",textContent:e(n.contact.academic_degree_after)},null,8,U)):d("",!0)]),n.contact.is_company==0?(a(),l("p",{key:1,class:"text-sm",textContent:e(n.contact.position)},null,8,W)):d("",!0),u(x),t("p",null,[t("a",{href:"mailto:"+n.contact.email,textContent:e(n.contact.email),class:"underline"},null,8,X)]),n.contact.phone?(a(),l("p",Z,[t("a",{href:"tel:"+n.contact.phone,textContent:e(n.contact.phone),class:"underline"},null,8,tt)])):d("",!0),u(x),n.contact.address?(a(),l("address",et,[i(e(n.contact.address.line_1),1),nt,i(" "+e(n.contact.address.line_2),1),n.contact.address.line_2?(a(),l("br",ot)):d("",!0),i(" "+e(n.contact.address.zip)+"\xA0"+e(n.contact.address.city),1),st,i(" "+e(n.contact.address.country[r($)]),1)])):d("",!0)]),u(x),_.value?(a(),l("div",at,[(a(!0),l(v,null,g(n.contact.contacts_count,s=>(a(),l("div",{class:"flex space-x-3 border border-gray-400 p-2 mb-3 overflow-hidden",onClick:c[1]||(c[1]=j=>o.$inertia.visit(o.route("contact.show",o.employee)))},it))),256))])):d("",!0),(a(!0),l(v,null,g(y.value,s=>(a(),l("div",{class:"border border-gray-400 p-2 hover:bg-gray-200 flex space-x-3 cursor-pointer mb-3",onClick:j=>o.$inertia.visit(o.route("contact.show",s))},[t("div",null,[u(V,{contact:s},null,8,["contact"])]),t("div",null,[t("p",{textContent:e(s.name)},null,8,rt),t("p",{class:"text-xs font-semibold",textContent:e(s.position)},null,8,ut),t("p",ht,[t("span",{textContent:e(s.address.line_1)},null,8,mt),xt,t("span",{textContent:e(s.address.zip)},null,8,_t),ft,t("span",{textContent:e(s.address.city)},null,8,Ct)])])],8,dt))),256))]),t("div",null,[t("h3",vt,e(o.__("Timetracks")),1),t("table",gt,[(a(!0),l(v,null,g(n.contact.timetracks,s=>(a(),l("tr",null,[t("td",null,[t("p",{textContent:e(b(s.created_at,"DD.MM.YY"))},null,8,yt),t("p",{textContent:e(b(s.created_at,"hh:mm")),class:"text-sm font-thin"},null,8,bt)]),t("td",null,[t("p",null,[t("span",{textContent:e(Math.round(s.minutes/60))},null,8,wt),pt,t("span",{textContent:e(s.minutes%60)},null,8,kt)]),t("p",{textContent:e(Math.round(s.minutes/60*100)/100),class:"text-sm font-thin"},null,8,Mt)]),t("td",$t,e(s.note),1)]))),256)),t("tfoot",null,[t("tr",null,[t("td",null,e(o.__("Total:")),1),t("td",jt,[t("p",Lt,e(r(w))+" Stunden \xE0 95,43 = "+e(r(f)),1),t("p",{class:"text-sm font-thin flex justify-end",textContent:e(r(p)-r(f))},null,8,Bt),t("p",{class:"font-bold flex justify-end",textContent:e(r(p))},null,8,St)])])])])])])])]),_:1},8,["title"]))}};export{At as default};
